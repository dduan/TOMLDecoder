{"abstract":[{"text":"Also known as release notes.","type":"text"}],"hierarchy":{"paths":[["doc://TOMLDecoder/documentation/TOMLDecoder"]]},"identifier":{"interfaceLanguage":"swift","url":"doc://TOMLDecoder/documentation/TOMLDecoder/CHANGELOG"},"kind":"article","metadata":{"modules":[{"name":"TOMLDecoder"}],"role":"article","roleHeading":"Article","title":"Changelog"},"primaryContentSections":[{"content":[{"anchor":"In-Development","level":2,"text":"In Development","type":"heading"},{"items":[{"content":[{"inlineContent":[{"text":"Add support for TOML 1.1.0 (thanks, @nikitabobko!)","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"anchor":"043","level":2,"text":"0.4.3","type":"heading"},{"inlineContent":[{"text":"Improved runtime performance.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"text":"For a TOML document such as ","type":"text"},{"identifier":"https://github.com/dduan/TOMLDecoder/blob/cea8f0bee33f37e0fcc33b566a742485c71196e7/Sources/Resources/fixtures/twitter.toml","isActive":true,"type":"reference"},{"text":",","type":"text"},{"text":" ","type":"text"},{"text":"parsing it costs >50% less CPU instructions, and ~100% less memory retains.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"text":"In a release build, parsing this document with TOMLDecoder takes less time than the C library ","type":"text"},{"identifier":"https://github.com/cktan/tomlc99","isActive":true,"type":"reference"},{"text":".","type":"text"}],"type":"paragraph"},{"anchor":"042","level":2,"text":"0.4.2","type":"heading"},{"items":[{"content":[{"inlineContent":[{"text":"Fixed a project configuration that prevented SwiftPM consumption of the package","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"anchor":"041","level":2,"text":"0.4.1","type":"heading"},{"inlineContent":[{"text":"This release introduces source-breaking changes from 0.3.x.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"text":"The lower-level parser APIs and architecture are introduced with an","type":"text"},{"text":" ","type":"text"},{"text":"eye towards an eventual 1.0 release.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"text":"The parsing speed is significantly faster than 0.3.x releases.","type":"text"}],"type":"paragraph"},{"anchor":"API-overview","level":3,"text":"API overview","type":"heading"},{"inlineContent":[{"text":"The type ","type":"text"},{"code":"TOMLDecoder","type":"codeVoice"},{"text":" still serves as the entry point for decoding TOML into types that conform to ","type":"text"},{"code":"Swift.Decodable","type":"codeVoice"},{"text":".","type":"text"},{"text":" ","type":"text"},{"text":"This is similar to previous releases.","type":"text"}],"type":"paragraph"},{"inlineContent":[{"text":"The library still provides APIs to deserialize/parse/demarshal TOML documents into structured data representations.","type":"text"},{"text":" ","type":"text"},{"text":"During this process, each TOML value, including container values, has a definitive, corresponding Swift type.","type":"text"},{"text":" ","type":"text"},{"text":"The decoding process can be lenient,","type":"text"},{"text":" ","type":"text"},{"text":"and convert these initial value types into compatible types in the ","type":"text"},{"code":"Decodable","type":"codeVoice"},{"text":"s.","type":"text"}],"type":"paragraph"},{"anchor":"Breaking-changes","level":4,"text":"Breaking changes","type":"heading"},{"items":[{"content":[{"inlineContent":[{"code":"TOMLDecoder","type":"codeVoice"},{"text":" is no longer an ","type":"text"},{"code":"open class","type":"codeVoice"},{"text":". It’s now a struct.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Decoding strategies are represented and stored differently.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"code":"Deserializer","type":"codeVoice"},{"text":" is removed. Its functionalities are subsumed by new APIs.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"New minimal Apple platform versions:","type":"text"}],"type":"paragraph"},{"items":[{"content":[{"inlineContent":[{"text":"iOS 13","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"macOS 10.15","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"tvOS 13","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"watchOS 6","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"}]}],"type":"unorderedList"},{"anchor":"New-APIs","level":4,"text":"New APIs","type":"heading"},{"items":[{"content":[{"inlineContent":[{"text":"A set of types to represent offset date-time, local date/time.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"code":"TOMLArray","type":"codeVoice"},{"text":" and ","type":"text"},{"code":"TOMLTable","type":"codeVoice"},{"text":" represent parsed TOML tables and arrays.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Strongly typed access to fields e.g. ","type":"text"},{"code":".string(forKey: \"foo\")","type":"codeVoice"},{"text":" or","type":"text"},{"text":" ","type":"text"},{"code":".integer(atIndex: 0)","type":"codeVoice"},{"text":".","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"anchor":"Infrastructure-improvements","level":3,"text":"Infrastructure improvements","type":"heading"},{"items":[{"content":[{"inlineContent":[{"text":"The full toml-lang/toml-test suite is now imported as unit tests.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"identifier":"https://dduan.github.io/TOMLDecoder/0.4.x/documentation/tomldecoder/","isActive":true,"type":"reference"},{"text":".","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"More comprehensive CI jobs.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"New benchmark infra, and suite.","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"anchor":"032","level":2,"text":"0.3.2","type":"heading"},{"items":[{"content":[{"inlineContent":[{"text":"Improved runtime performance for decoding by using fewer containers while","type":"text"},{"text":" ","type":"text"},{"text":"assembling decoded values (#65)","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Fixed a leap year calculation bug (#66)","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Fixed .superDecoder (#68)","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"anchor":"031","level":2,"text":"0.3.1","type":"heading"},{"items":[{"content":[{"inlineContent":[{"text":"Fixed a bug where extending table via dotted key was not allowed (#54)","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Declare support for Swift 6","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Add experimental support for building with Bazel","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"anchor":"030","level":2,"text":"0.3.0","type":"heading"},{"items":[{"content":[{"inlineContent":[{"text":"Lowercase “z” is now accepted as zero-timezone-offset indicator","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Space is no longer accepted as an escaped character","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Hex/Octal/Binary numbers with no digits surrounding ","type":"text"},{"code":"_","type":"codeVoice"},{"text":" are considered invalid","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Comments or whitespace at start of document no longer cause parsing failure","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"TOML with invalid UTF-8 byte sequence will be rejected. Previously these have","type":"text"},{"text":" ","type":"text"},{"text":"been decoded with the replacement character (U-FFFD).","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Local date with a trailing ","type":"text"},{"code":"T","type":"codeVoice"},{"text":" such as ","type":"text"},{"code":"2023-04-16T","type":"codeVoice"},{"text":" is considered invalid.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Day with value ","type":"text"},{"code":"00","type":"codeVoice"},{"text":" is invalid.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Allow defining super table after it has been implicitly defined. For example,","type":"text"},{"text":" ","type":"text"},{"text":"one could define ","type":"text"},{"code":"[a.b.c]","type":"codeVoice"},{"text":", then later ","type":"text"},{"code":"[a]","type":"codeVoice"},{"text":".","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Using dotted keys to add up to a previously header-defined table is now","type":"text"},{"text":" ","type":"text"},{"text":"invalid. For example, use ","type":"text"},{"code":"[a.b.c]","type":"codeVoice"},{"text":" to create the table, and later have","type":"text"},{"text":" ","type":"text"},{"code":"b.c =","type":"codeVoice"},{"text":" under ","type":"text"},{"code":"[a]","type":"codeVoice"},{"text":".","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"A standalone carriage return is no longer considered a valid newline","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Inline tables are now immutable","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Mutating array of tables that were implicitly created (e.g. ","type":"text"},{"code":"a = [{}]","type":"codeVoice"},{"text":") is now","type":"text"},{"text":" ","type":"text"},{"text":"invalid","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Keys with spaces in between segments are now valid","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Multiline strings can now have one or two quotes as valid content","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Local date with a comment (","type":"text"},{"code":"1970-01-01 # some comment","type":"codeVoice"},{"text":") is now accepted","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Control characters (except tabs) in comments are now invalid","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Escaped CRLF character in multiline string is properly handled","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"anchor":"022","level":2,"text":"0.2.2","type":"heading"},{"items":[{"content":[{"inlineContent":[{"text":"Fixed a bug when parsing float decimals (#47)","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Add support for Windows","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"anchor":"021","level":2,"text":"0.2.1","type":"heading"},{"items":[{"content":[{"inlineContent":[{"text":"Include a new type ","type":"text"},{"code":"DeserializationError","type":"codeVoice"},{"text":". It contains information regarding","type":"text"},{"text":" ","type":"text"},{"text":"deserialization.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Improve error reporting. After encountering one error, the parser will","type":"text"},{"text":" ","type":"text"},{"text":"discard characters until new line, and attempt to parse another top-level","type":"text"},{"text":" ","type":"text"},{"text":"expression. This is more deterministic compared to previous recovery attempts.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Add more specific errors regarding missing pieces at closing position. For","type":"text"},{"text":" ","type":"text"},{"text":"example, string missing closing quotes, or table missing closing bracket.","type":"text"},{"text":" ","type":"text"},{"text":"These errors will cause the parser to report detailed error messages.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Fix a bug where newline characters sometimes are considered valid as part of","type":"text"},{"text":" ","type":"text"},{"text":"basic string content.","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"anchor":"020","level":2,"text":"0.2.0","type":"heading"},{"items":[{"content":[{"inlineContent":[{"text":"Rewritten from scratch to support TOML 1.0","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Remove support for CocoaPods and Carthage","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Remove dependency on NetTime, parser returns ","type":"text"},{"code":"Foundation.Date","type":"codeVoice"},{"text":" and","type":"text"},{"text":" ","type":"text"},{"code":"Foundation.DateComponents","type":"codeVoice"},{"text":" instead.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Remove SwiftPM dependency on the ","type":"text"},{"code":"TOMLDeserializer","type":"codeVoice"},{"text":" package. It has been","type":"text"},{"text":" ","type":"text"},{"text":"merged into the same project.","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Improved error reporting: a parsing error won’t cause parsing to stop.","type":"text"},{"text":" ","type":"text"},{"text":"Instead, the parser will attempt to parse as much as possible and report all","type":"text"},{"text":" ","type":"text"},{"text":"errors it encounters.","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"},{"anchor":"016","level":2,"text":"0.1.6","type":"heading"},{"items":[{"content":[{"inlineContent":[{"text":"Fixed an issue where failure in single value decoding results in a crash (#19)","type":"text"}],"type":"paragraph"}]},{"content":[{"inlineContent":[{"text":"Restored Carthage support (#21, #22)","type":"text"}],"type":"paragraph"}]}],"type":"unorderedList"}],"kind":"content"}],"references":{"doc://TOMLDecoder/documentation/TOMLDecoder":{"abstract":[{"text":"TOML:","type":"text"},{"text":" ","type":"text"},{"text":"“a minimal configuration file format that’s easy to read due to obvious semantics”.","type":"text"}],"identifier":"doc://TOMLDecoder/documentation/TOMLDecoder","kind":"symbol","role":"collection","title":"TOMLDecoder","type":"topic","url":"/documentation/tomldecoder"},"doc://TOMLDecoder/documentation/TOMLDecoder/DevelopingTOMLDecoder":{"abstract":[{"text":"Notes for TOMLDecoder maintainers.","type":"text"}],"identifier":"doc://TOMLDecoder/documentation/TOMLDecoder/DevelopingTOMLDecoder","kind":"article","role":"article","title":"Developing TOMLDecoder","type":"topic","url":"/documentation/tomldecoder/developingtomldecoder"},"doc://TOMLDecoder/documentation/TOMLDecoder/VersionedDocs":{"abstract":[{"text":"Links to docs for each TOMLDecoder release.","type":"text"}],"identifier":"doc://TOMLDecoder/documentation/TOMLDecoder/VersionedDocs","kind":"article","role":"article","title":"Versioned Documentations","type":"topic","url":"/documentation/tomldecoder/versioneddocs"},"https://dduan.github.io/TOMLDecoder/0.4.x/documentation/tomldecoder/":{"identifier":"https://dduan.github.io/TOMLDecoder/0.4.x/documentation/tomldecoder/","title":"A new documentation site","titleInlineContent":[{"text":"A new documentation site","type":"text"}],"type":"link","url":"https://dduan.github.io/TOMLDecoder/0.4.x/documentation/tomldecoder/"},"https://github.com/cktan/tomlc99":{"identifier":"https://github.com/cktan/tomlc99","title":"tomlc99","titleInlineContent":[{"text":"tomlc99","type":"text"}],"type":"link","url":"https://github.com/cktan/tomlc99"},"https://github.com/dduan/TOMLDecoder/blob/cea8f0bee33f37e0fcc33b566a742485c71196e7/Sources/Resources/fixtures/twitter.toml":{"identifier":"https://github.com/dduan/TOMLDecoder/blob/cea8f0bee33f37e0fcc33b566a742485c71196e7/Sources/Resources/fixtures/twitter.toml","title":"this twitter payload","titleInlineContent":[{"text":"this twitter payload","type":"text"}],"type":"link","url":"https://github.com/dduan/TOMLDecoder/blob/cea8f0bee33f37e0fcc33b566a742485c71196e7/Sources/Resources/fixtures/twitter.toml"}},"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"seeAlsoSections":[{"anchor":"Other-resources","generated":true,"identifiers":["doc://TOMLDecoder/documentation/TOMLDecoder/DevelopingTOMLDecoder","doc://TOMLDecoder/documentation/TOMLDecoder/VersionedDocs"],"title":"Other resources"}],"variants":[{"paths":["/documentation/tomldecoder/changelog"],"traits":[{"interfaceLanguage":"swift"}]}]}
